function subscribeOnBodlEvents(n,e,t){function o(){dataLayer.push(arguments)}function i(e){return Object.assign({},e,{send_to:n})}function c(n,e){var t={item_id:n.sku||n.variant_sku||n.product_sku||n.variant_id||n.product_id,item_name:n.product_name,currency:n.currency,discount:n.discount,index:void 0!==n.index?n.index:e,item_brand:n.brand_name,item_variant:n.sku||n.variant_sku||n.product_sku||n.product_id,quantity:n.quantity};if(n.category_name)t.item_category=n.category_name;else if(n.category_names&&Array.isArray(n.category_names)){n.category_names.slice(0,5).forEach((function(n,e){t["item_category"+(e?e+1:"")]=n}))}return n.purchase_price?t.price=n.purchase_price:t.price=n.sale_price>0?n.sale_price:n.price,n.coupon&&(t.coupon=n.coupon),t}function r(){var n="begin_checkout",e="purchase",t="add_shipping_info",r="add_payment_info";function d(n){var e=Array.isArray(n.coupon_codes)&&n.coupon_codes.length?n.coupon_codes[0]:n.coupon,t={currency:n.currency,value:n.cart_value,items:n.line_items.map((function(n,t){return e&&(n.coupon=e),c(n,t)}))};return e&&(t.coupon=e),i(t)}void 0!==window.bodlEvents.checkout&&("function"==typeof window.bodlEvents.checkout.checkoutBegin&&window.bodlEvents.checkout.checkoutBegin((function(e){o("event",n,function(n){return i(d(n))}(e))})),"function"==typeof window.bodlEvents.checkout.orderPurchased&&window.bodlEvents.checkout.orderPurchased((function(n){o("event",e,function(n){var e=d(n),t={transaction_id:n.order_id||n.transaction_id,shipping:n.shipping_cost};return n.tax&&(t.tax=n.tax),i(Object.assign(e,t))}(n))})),"function"==typeof window.bodlEvents.checkout.shippingDetailsProvided&&window.bodlEvents.checkout.shippingDetailsProvided((function(n){o("event",t,function(n){var e=d(n),t={shipping_tier:n.shipping_method};return i(Object.assign(e,t))}(n))})),"function"==typeof window.bodlEvents.checkout.paymentDetailsProvided&&window.bodlEvents.checkout.paymentDetailsProvided((function(n){o("event",r,function(n){var e=d(n),t={payment_type:n.payment_type};return i(Object.assign(e,t))}(n))})))}function d(){if(void 0!==window.bodlEvents.product){var n="view_item",e="view_item_list",t="search";"function"==typeof window.bodlEvents.product.pageViewed&&window.bodlEvents.product.pageViewed((function(e){o("event",n,function(n){var e=n.line_items&&n.line_items.map(c),t=e&&e[0]||{};return i({value:t.price,currency:t.currency,items:e})}(e))})),"function"==typeof window.bodlEvents.product.categoryViewed&&window.bodlEvents.product.categoryViewed((function(n){o("event",e,function(n){return i({item_list_id:n.category_id,item_list_name:n.category_name,items:n.line_items&&n.line_items.map(c)})}(n))})),"function"==typeof window.bodlEvents.product.searchPerformed&&window.bodlEvents.product.searchPerformed((function(n){o("event",t,function(n){return i({search_term:n.search_keyword})}(n))}))}}function a(){if(void 0!==window.bodlEvents.banner){var n="view_promotion";"function"==typeof window.bodlEvents.banner.viewed&&window.bodlEvents.banner.viewed((function(e){o("event",n,function(n){return i({promotion_id:"banner_"+n.banner_id,promotion_name:n.banner_name})}(e))}))}}function u(){r(),function(){if(void 0!==window.bodlEvents.cart){var n="view_cart",e="add_to_cart",t="remove_from_cart";"function"==typeof window.bodlEvents.cart.viewed&&window.bodlEvents.cart.viewed((function(e){o("event",n,r(e))})),"function"==typeof window.bodlEvents.cart.addItem&&window.bodlEvents.cart.addItem((function(n){o("event",e,r(n))})),"function"==typeof window.bodlEvents.cart.removeItem&&window.bodlEvents.cart.removeItem((function(n){o("event",t,r(n))}))}function r(n){var e={currency:n.currency,items:Array.isArray(n.line_items)?n.line_items.map(c):[]};return e.value=n.product_value||n.cart_value||e.items.reduce((function(n,e){return n+e.price*e.quantity}),0),i(e)}}(),d(),a()}function s(){var t;(t=document.createElement("script")).src="https://www.googletagmanager.com/gtag/js?id="+n,t.async=!0,document.head.appendChild(t),o("js",new Date),o("set","developer_id."+e,!0),o("config",n),u()}window.dataLayer=window.dataLayer||[],window&&void 0!==window.bodlEvents&&(t?function(n){function e(n){var e={advertising:["ad_storage","ad_user_data","ad_personalization"],analytics:["analytics_storage"],functional:["functionality_storage"]},t={};return Object.keys(n).forEach((function(o){var i=e[o],c=n[o]?"granted":"denied";Array.isArray(i)&&i.forEach((function(n){t[n]=c}))})),t}void 0!==window.bodlEvents.consent&&("function"==typeof window.bodlEvents.consent.loaded&&window.bodlEvents.consent.loaded((function(t){o("consent","default",e(t)),"function"==typeof n&&n()})),"function"==typeof window.bodlEvents.consent.updated&&window.bodlEvents.consent.updated((function(n){o("consent","update",e(n))})))}(s):s())}
//# sourceMappingURL=google_analytics4-12bfd2e26f38683cb06420a958df737c58b6f5fa.js.map
